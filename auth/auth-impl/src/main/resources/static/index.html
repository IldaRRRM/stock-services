<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>List of all users</title>
    <style type="text/css">
        body {
            padding: 50px;
        }

        .users, .users td {
            border: 1px solid lightgray;
            padding: 5px;
        }
    </style>
    <script src="webjars/vue/2.5.16/vue.min.js"></script>

</head>
<body>

<div align="center">
    <h1>Users</h1>

    <table class="users" id="user-table">
        <thead>
        <tr>
            <th>ID</th>
            <th>username</th>
            <th>enabled</th>
            <th>role and permissions</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="user in users">
            <td>{{user.id}}</td>
            <td>{{user.username}}</td>
            <td>{{user.enabled}}</td>
            <td>{{user.roles}}</td>
        </tr>
        </tbody>
    </table>

    <script>
        fetch('/auth/admin/users/')
            .then(response => response.json())
            .then(users => {
                new Vue({
                        el: '#user-table',
                        data: {
                            users: users
                        }
                    }
                )
            })

    </script>
</div>
</body>
</html>
